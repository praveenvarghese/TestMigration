/*!
 * @AIMMS_FILE=models/CubeEngineTests/CubeEngineTests.aimms
 */

scenario("Check table with multiple identifiers and different pivoting", () => {
	loadPage("Main Project/Multiple Identifiers");

	findWidget("P3Q3Table")
		.getNumRowsInGridViewport()
		.should.be.equal(18);

	findWidget("P3Q3Table")
		.getNumColsInGridViewport()
		.should.be.equal(6);

	findWidget("P3Q3TablePivot1")
		.getNumRowsInGridViewport()
		.should.be.equal(12);

	findWidget("P3Q3TablePivot1")
		.getNumColsInGridViewport()
		.should.be.equal(12);

	findWidget("P3Q3Table")
		.getGridValues()
		.should.be.shallowDeepEqual([
			["", "", "", "0.00", "3.00", "2.00"],
			["", "", "", "2.00", "1.00", "0.00"],
			["", "", "", "1.00", "2.00", "2.00"],
			["", "", "", "0.00", "2.00", "1.00"],
			["", "", "", "1.00", "1.00", "2.00"],
			["", "", "", "1.00", "2.00", "0.00"],
			["", "", "", "2.00", "0.00", "3.00"],
			["", "", "", "0.00", "3.00", "1.00"],
			["", "", "", "2.00", "3.00", "1.00"],
			["20.00", "0.00", "10.00", "", "", ""],
			["0.00", "30.00", "10.00", "", "", ""],
			["10.00", "20.00", "20.00", "", "", ""],
			["10.00", "20.00", "30.00", "", "", ""],
			["20.00", "10.00", "10.00", "", "", ""],
			["10.00", "20.00", "20.00", "", "", ""],
			["0.00", "30.00", "0.00", "", "", ""],
			["0.00", "20.00", "0.00", "", "", ""],
			["30.00", "10.00", "10.00", "", "", ""],
		]);

	findWidget("P3Q3TablePivot1")
		.getGridValues()
		.should.be.shallowDeepEqual([
			[
				"",
				"20.00",
				"0.00",
				"10.00",
				"",
				"10.00",
				"20.00",
				"30.00",
				"",
				"0.00",
				"30.00",
				"0.00",
			],
			["0.00", "", "", "", "0.00", "", "", "", "2.00", "", "", ""],
			["3.00", "", "", "", "2.00", "", "", "", "0.00", "", "", ""],
			["2.00", "", "", "", "1.00", "", "", "", "3.00", "", "", ""],
			[
				"",
				"0.00",
				"30.00",
				"10.00",
				"",
				"20.00",
				"10.00",
				"10.00",
				"",
				"0.00",
				"20.00",
				"0.00",
			],
			["2.00", "", "", "", "1.00", "", "", "", "0.00", "", "", ""],
			["1.00", "", "", "", "1.00", "", "", "", "3.00", "", "", ""],
			["0.00", "", "", "", "2.00", "", "", "", "1.00", "", "", ""],
			[
				"",
				"10.00",
				"20.00",
				"20.00",
				"",
				"10.00",
				"20.00",
				"20.00",
				"",
				"30.00",
				"10.00",
				"10.00",
			],
			["1.00", "", "", "", "1.00", "", "", "", "2.00", "", "", ""],
			["2.00", "", "", "", "2.00", "", "", "", "3.00", "", "", ""],
			["2.00", "", "", "", "0.00", "", "", "", "1.00", "", "", ""],
		]);
});
