/*!
 * @AIMMS_FILE=models/Islands with new table MapV2/Islands.aimms
 */

scenario("Create new Table widget and assert its type and data.", () => {
	loadPage("Main Project/Second Page/All Widgets?table-v2=false");

	// Close the Page Manager
	closeAppManager();

	// Create a Table widget "SmokeTest_Table"
	createWidget("Table", ["IA_JobStart", "IA_JobDuration"], "SmokeTest_Table", 8, 4);

	// Assert "SmokeTest_Table" is of widget type - Table
	findWidget("SmokeTest_Table").should.be.a.widgetOfType("table");

	// Assert the Title headers on the table
	findWidget("SmokeTest_Table")
		.getTitleHeaderValues()
		.should.be.shallowDeepEqual([
			["", "WebUITeamMembers"],
			["", "Widgets"],
			["Identifier", "webui::ExtensionOrder"],
		]);

	// Assert the Column headers on the table
	findWidget("SmokeTest_Table")
		.getColumnsHeaderValues()
		.should.be.shallowDeepEqual([
			[
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"MKG",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"HS",
				"JP",
				"JP",
				"JP",
				"JP",
			],
			[
				"Bar Chart",
				"Bubble Chart",
				"Gantt Chart",
				"Image",
				"Label",
				"Line Chart",
				"List",
				"Map",
				"Pie Chart",
				"Scalar",
				"Table",
				"Text",
				"Tree Map",
				"Bar Chart",
				"Bubble Chart",
				"Gantt Chart",
				"Image",
				"Label",
				"Line Chart",
				"List",
				"Map",
				"Pie Chart",
				"Scalar",
				"Table",
				"Text",
				"Tree Map",
				"Bar Chart",
				"Bubble Chart",
				"Gantt Chart",
				"Image",
			],
		]);

	// Assert the Row headers on the table
	findWidget("SmokeTest_Table")
		.getRowsHeaderValues()
		.should.be.shallowDeepEqual([
			["IA_JobStart", "1"],
			["IA_JobStart", "2"],
			["IA_JobStart", "3"],
			["IA_JobStart", "4"],
			["IA_JobDuration", "1"],
			["IA_JobDuration", "3"],
			["IA_JobDuration", "4"],
		]);

	const expected_values = [
		[
			"12.11",
			"17.89",
			"-9.04",
			"0.00",
			"-0.55",
			"-5.51",
			"8.24",
			"6.57",
			"4.48",
			"-8.50",
			"11.76",
			"7.73",
			"7.89",
			"9.36",
			"14.84",
			"14.33",
			"4.57",
			"5.12",
			"-5.18",
			"-4.46",
			"0.61",
			"-8.87",
			"6.85",
			"18.00",
			"-5.05",
			"-5.12",
			"5.11",
			"10.81",
			"4.27",
			"-0.59",
		],
		[
			"-1.15",
			"3.76",
			"-4.28",
			"1.42",
			"-1.24",
			"-7.53",
			"2.64",
			"12.97",
			"15.55",
			"2.35",
			"4.20",
			"6.24",
			"1.45",
			"-9.78",
			"-1.20",
			"6.85",
			"-2.68",
			"19.05",
			"1.28",
			"1.16",
			"-0.56",
			"11.17",
			"-8.95",
			"12.15",
			"-0.69",
			"18.20",
			"10.02",
			"10.82",
			"-2.16",
			"19.61",
		],
		[
			"-3.85",
			"18.85",
			"1.15",
			"10.43",
			"17.91",
			"-2.88",
			"-6.88",
			"6.17",
			"-2.32",
			"13.24",
			"-8.34",
			"-7.89",
			"7.84",
			"8.45",
			"-9.16",
			"13.94",
			"12.56",
			"3.99",
			"16.12",
			"4.31",
			"-7.57",
			"-4.59",
			"13.16",
			"4.31",
			"-0.03",
			"16.81",
			"-2.39",
			"4.04",
			"-4.20",
			"17.01",
		],
		[
			"7.59",
			"-9.99",
			"0.98",
			"-3.43",
			"3.65",
			"-7.95",
			"13.38",
			"-4.79",
			"-1.89",
			"9.50",
			"-6.91",
			"11.58",
			"-8.52",
			"4.76",
			"-3.27",
			"13.19",
			"10.19",
			"19.73",
			"6.79",
			"7.52",
			"-9.79",
			"-9.61",
			"3.39",
			"-1.57",
			"15.05",
			"-8.86",
			"9.27",
			"14.98",
			"3.88",
			"-9.21",
		],
		[
			"20.07",
			"-9.95",
			"-6.06",
			"29.13",
			"1.91",
			"29.78",
			"0.26",
			"-11.30",
			"30.79",
			"0.91",
			"-0.46",
			"-6.40",
			"25.99",
			"-11.39",
			"2.40",
			"9.40",
			"32.57",
			"2.54",
			"13.37",
			"-9.94",
			"29.89",
			"8.05",
			"23.24",
			"-11.95",
			"26.62",
			"31.69",
			"2.05",
			"17.11",
			"17.99",
			"-14.16",
		],
		[
			"19.06",
			"8.96",
			"29.04",
			"16.39",
			"33.71",
			"24.13",
			"13.84",
			"3.30",
			"7.78",
			"23.34",
			"12.29",
			"-10.60",
			"0.01",
			"17.37",
			"32.34",
			"-9.62",
			"9.98",
			"-4.90",
			"5.92",
			"-7.24",
			"33.76",
			"1.70",
			"-1.44",
			"-10.83",
			"21.93",
			"-7.44",
			"24.01",
			"22.94",
			"-6.27",
			"9.84",
		],
		[
			"26.19",
			"17.18",
			"16.88",
			"-11.51",
			"33.83",
			"12.51",
			"13.19",
			"32.88",
			"13.74",
			"-9.27",
			"28.33",
			"24.99",
			"7.98",
			"27.43",
			"14.53",
			"-9.45",
			"2.21",
			"-4.67",
			"-10.79",
			"31.33",
			"8.33",
			"33.09",
			"-3.10",
			"2.20",
			"4.11",
			"-8.10",
			"14.46",
			"16.54",
			"32.85",
			"18.43",
		],
	];
	// Assert the resulting data
	findWidget("SmokeTest_Table")
		.getGridValues()
		.should.be.shallowDeepEqual(expected_values);
});
