/*!
 * @AIMMS_FILE=models/NamedViewsModel/TransNet.aimms
 */

scenario("Issue when Named view type is changed when user deletes a name view", () => {
	loadPage("Main Project/SecondHome?_aimms_only_persistence.write=true");

	findWidget("tableWidget")
		.openNamedViewsOptionEditor()
		.setCurrentViewFromOptionEditor("View With Change Widget Type");

	findWidget("tableWidget")
		.getNumberOfBars()
		.should.be.equal(372);

	findWidget("tableWidget")
		.openNamedViewsOptionEditor()
		.deleteView("View With Change Widget Type");

	pageRefresh();

	pageRefresh();

	findWidget("tableWidget")
		.getGridValues()
		.should.be.shallowDeepEqual([
			[
				"7.00",
				"5.00",
				"4.00",
				"5.00",
				"5.00",
				"3.00",
				"7.00",
				"3.00",
				"6.00",
				"6.00",
				"5.00",
				"5.00",
				"3.00",
				"7.00",
				"3.00",
				"4.00",
				"4.00",
				"4.00",
				"6.00",
				"3.00",
				"4.00",
				"3.00",
				"7.00",
				"6.00",
				"4.00",
				"7.00",
				"6.00",
				"3.00",
				"4.00",
				"5.00",
				"6.00",
				"6.00",
				"4.00",
				"4.00",
				"4.00",
				"4.00",
				"4.00",
				"7.00",
				"3.00",
				"3.00",
				"5.00",
				"3.00",
				"4.00",
				"6.00",
				"4.00",
			],
			[
				"6.00",
				"5.00",
				"7.00",
				"4.00",
				"3.00",
				"5.00",
				"6.00",
				"6.00",
				"4.00",
				"3.00",
				"5.00",
				"4.00",
				"3.00",
				"7.00",
				"6.00",
				"5.00",
				"5.00",
				"5.00",
				"4.00",
				"5.00",
				"7.00",
				"3.00",
				"5.00",
				"5.00",
				"3.00",
				"4.00",
				"7.00",
				"5.00",
				"7.00",
				"4.00",
				"5.00",
				"4.00",
				"7.00",
				"4.00",
				"6.00",
				"4.00",
				"5.00",
				"7.00",
				"6.00",
				"4.00",
				"5.00",
				"4.00",
				"7.00",
				"5.00",
				"5.00",
			],
			[
				"7.00",
				"4.00",
				"6.00",
				"6.00",
				"4.00",
				"7.00",
				"4.00",
				"4.00",
				"3.00",
				"5.00",
				"5.00",
				"4.00",
				"5.00",
				"7.00",
				"5.00",
				"4.00",
				"5.00",
				"5.00",
				"6.00",
				"6.00",
				"3.00",
				"6.00",
				"5.00",
				"6.00",
				"3.00",
				"5.00",
				"4.00",
				"6.00",
				"5.00",
				"4.00",
				"5.00",
				"6.00",
				"4.00",
				"6.00",
				"7.00",
				"4.00",
				"6.00",
				"4.00",
				"5.00",
				"4.00",
				"5.00",
				"7.00",
				"4.00",
				"5.00",
				"6.00",
			],
			[
				"4.00",
				"3.00",
				"6.00",
				"4.00",
				"6.00",
				"5.00",
				"4.00",
				"4.00",
				"4.00",
				"6.00",
				"6.00",
				"6.00",
				"4.00",
				"7.00",
				"7.00",
				"4.00",
				"4.00",
				"7.00",
				"5.00",
				"4.00",
				"5.00",
				"5.00",
				"5.00",
				"5.00",
				"7.00",
				"5.00",
				"5.00",
				"5.00",
				"7.00",
				"6.00",
				"5.00",
				"6.00",
				"7.00",
				"5.00",
				"6.00",
				"5.00",
				"5.00",
				"6.00",
				"5.00",
				"5.00",
				"5.00",
				"4.00",
				"6.00",
				"3.00",
				"6.00",
			],
		]);
});
